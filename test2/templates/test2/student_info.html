<!--Load templates-->
{% include 'test2/navbar.html' %}
{% load staticfiles %}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="icon" type="image/png" href="{% static 'icon.png'%}" />
    <title>Point Grey Awards Database</title>
    <link rel="stylesheet" href="{% static 'css/studentinfo_style.css' %}">
</head>
<body>


{% block content %}

{% endblock %}

<!--Student Info goes here-->
<h2><strong>{{ student.last }}, {{ student.first }}</strong></h2>

<p style="font-size:20px"> Student #: <strong>{{ student.student_num }}</strong> | Homeroom: <strong>{{ student.homeroom }}</strong> | Sex: <strong>{{ student.sex }}</strong> | Year Entered: <strong>{{ student.date_added }}</strong></p>
<h3>CUMULATIVE TOTAL: {{ student.cumulative }}</h3>

<button onclick="submitForms()">Submit</button>

<hr>
<!-- end of Student Overview-->

{% if student.homeroom|slice:":2"|add:"0" >= 12 %}
    {% include 'test2/collapsible.html' with student=student grade="12" year="2018" %}
{% endif %}

{% if student.homeroom|slice:":2"|add:"0" >= 11 %}
    {% include 'test2/collapsible.html' with student=student grade="11" year="2017" %}
{% endif %}

{% if student.homeroom|slice:":2"|add:"0" >= 10 %}
    {% include 'test2/collapsible.html' with student=student grade="10" year="2016" %}
{% endif %}

{% if student.homeroom|slice:":2"|add:"0" >= 9 %}
    {% include 'test2/collapsible.html' with student=student grade="09" year="2015" %}
{% endif %}

{% if student.homeroom|slice:":2"|add:"0" >= 8 %}
    {% include 'test2/collapsible.html' with student=student grade="08" year="2014" %}
{% endif %}


<!--Script for the Nullify button-->
<script>
function nullify() {
    var txt;
    var person = prompt("Please select:", "All");
    if (person == null || person == "") {
        txt = "User cancelled the prompt.";
    } else {
        txt = "Hello " + person + "! How are you today?";
    }
    document.getElementById("demo").innerHTML = txt;
}
</script>

<!--Script for the getting post requests-->
<script>
function submitForms() {
    document.getElementById("form 08").submit();
    document.getElementById("form 09").submit();
    document.getElementById("form 10").submit();
    document.getElementById("form 11").submit();
    document.getElementById("form 12").submit();
    }

function post(path, params, method) {
    method = method || "post"; // Set method to post by default if not specified.

    // The rest of this code assumes you are not using a library.
    // It can be made less wordy if you use one.
    var form = document.createElement("form");
    form.setAttribute("method", method);
    form.setAttribute("action", path);

    for(var key in params) {
        if(params.hasOwnProperty(key)) {
            var hiddenField = document.createElement("input");
            hiddenField.setAttribute("type", "hidden");
            hiddenField.setAttribute("name", key);
            hiddenField.setAttribute("value", params[key]);

            form.appendChild(hiddenField);
        }
    }

    document.body.appendChild(form);
    form.submit();
}
</script>
