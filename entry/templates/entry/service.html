{% include 'entry/shortened_navbar.html' %}
{% load staticfiles %}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="{% static 'css/entry_styles.css' %}">
</head>

<body>
<h2>Direct Entry (Service)</h2>

    <form action="" method="post">
        <fieldset>
            Student Number: <input class="student-number" type='number' name="student-number" value="">
            Minutes: <input class="min" type='number' name="minutes" value="" style="width: 40px">
            Code: <input class="code" type="number" name="code" value="" style="width: 40px">
            . . . . .
            Name: <a id="name" class="name">TYPE IN STUDENT NUMBER</a> | Hours: <a id="hours" class="hours">NO HOURS DOCUMENTED</a> | Type: <a id="code" class="code">NO CODE</a>
        </fieldset>
    </form>
</body>
<!--
<script>
    $(".student-number").change(function () {
        if (this.value.length > 0) {
            document.getElementById('name').innerHTML=this.value;
        } else {
            document.getElementById('name').innerHTML="TYPE IN STUDENT NUMBER";
        }
    });

    $(".min").keyup(function () {
        if (this.value.length > 0) {
            document.getElementById('hours').innerHTML="" + Math.floor(parseInt(this.value)/60) + ":" + parseInt(this.value)%60;
        } else {
            document.getElementById('hours').innerHTML="NO HOURS DOCUMENTED";
        }
    });

    $(".code").keyup(function () {
        if (this.value.length > 0) {
            document.getElementById('code').innerHTML=this.value;
        } else {
            document.getElementById('code').innerHTML="NO CODE";
        }
    });
</script>
-->
<footer>
    <script src="https://code.jquery.com/jquery-3.1.0.min.js"></script>
    <script>
    $(".student-number").change(function () {
        var student_id = this.value;
        console.log(student_id);

        $.ajax({
            url: {% url "entry:get_student_name" %},
            data: {
                'student_id': 57395
            },
            dataType: 'json',
            success: function (data) {console.log(data)}
        });

    });
</script>
</footer>
</html>
